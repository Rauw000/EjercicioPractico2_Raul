<!DOCTYPE html><html xmlns:th="http://www.thymeleaf.org"><head><meta charset="UTF-8"><title>Usuarios</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"></head>
    <body>
        <div class="container mt-4">
            <h3>Usuarios</h3>
            <a class="btn btn-success mb-2" th:href="@{/admin/usuarios/new}">Nuevo usuario</a>
            <a class="btn btn-secondary mb-2" th:href="@{/admin/consultas}">Consultas</a>
            <table class="table table-striped"><thead><tr><th>ID</th><th>Usuario</th><th>Nombre</th><th>Email</th><th>Rol</th><th>Acciones</th></tr></thead>
                <tbody><tr th:each="u : ${usuarios}">
                        <td th:text="${u.id}"></td>
                        <td th:text="${u.username}"></td>
                        <td th:text="${u.nombre} + ' ' + ${u.apellido}"></td>
                        <td th:text="${u.email}"></td>
                        <td th:text="${u.role != null ? u.role.nombre : 'N/A'}"></td>
                        <td>
                            <a th:href="@{|/admin/usuarios/${u.id}|}" class="btn btn-sm btn-info">Ver</a>
                            <a th:href="@{|/admin/usuarios/edit/${u.id}|}" class="btn btn-sm btn-primary">Editar</a>
                            <form th:action="@{|/admin/usuarios/delete/${u.id}|}" method="post" style="display:inline">
                                <button class="btn btn-sm btn-danger" type="submit" onclick="return confirm('Eliminar?')">Eliminar</button>
                            </form>
                        </td>
                    </tr></tbody>
            </table>
        </div>
    </body></html>
